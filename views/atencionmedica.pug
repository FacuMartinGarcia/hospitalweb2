extends layout

block extraHead
  style.
    .seccion {
      padding: 1.5rem;
      border-radius: 10px;
      margin-bottom: 2rem;
    }
    .seccion-1 {
      background-color: #f0f4f8;
    }
    .seccion-2 {
      background-color: #e8f0ff;
    }
    .titulo-seccion {
      text-align: center;
      font-weight: bold;
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }
    .tabla th {
      background-color: #007bff;
      color: white;
    }
  script(src="https://cdn.jsdelivr.net/npm/sweetalert2@11")
  script(type="module", src="/js/atencionmedica.js")
  script.
    document.addEventListener('DOMContentLoaded', () => {
      const botones = document.querySelectorAll('button[data-seccion]');
      const secciones = ['evaluaciones', 'prescripciones', 'estudios', 'cirugias', 'terapias'];

      function mostrarSeccion(id) {
        secciones.forEach(s => {
          const el = document.getElementById(s);
          if (el) el.style.display = (s === id) ? 'block' : 'none';
        });
      }

      botones.forEach(btn => {
        btn.addEventListener('click', () => {
          mostrarSeccion(btn.dataset.seccion);
        });
      });

      mostrarSeccion('evaluaciones');
    });

block content
  .card.shadow
    .card-body
      h2.text-center.h5.mb-4 Atención Médica - Registro Detallado

      .row.mb-4
        .col
          button.btn.btn-lg.btn-outline-primary.btn-block.w-100(type="button", data-seccion="evaluaciones") Evaluaciones
        .col
          button.btn.btn-lg.btn-outline-primary.btn-block.w-100(type="button", data-seccion="prescripciones") Medicamentos
        .col
          button.btn.btn-lg.btn-outline-primary.btn-block.w-100(type="button", data-seccion="estudios") Estudios
        .col
          button.btn.btn-lg.btn-outline-primary.btn-block.w-100(type="button", data-seccion="cirugias") Cirugías
        .col
          button.btn.btn-lg.btn-outline-primary.btn-block.w-100(type="button", data-seccion="terapias") Terapias


      // 1. Evaluaciones
      .seccion.seccion-1#evaluaciones
        h3.titulo-seccion Evaluaciones
        .row.mb-2
          .col-md-3
            input.form-control(type="date", id="fechaEvaluacion")
          .col-md-3
            select.form-select#medicoEvaluacion
              option(value="") Seleccione médico
          .col-md-3
            select.form-select#diagnosticoEvaluacion
              option(value="") Seleccione diagnóstico
          .col-md-3
            input.form-control(type="text", placeholder="Observaciones", id="observacionesEvaluacion")
        .text-end.mb-2
          button.btn.btn-success#btnRegistrarEvaluacion Registrar Evaluación
        table.table.table-bordered.table-sm.tabla
          thead
            tr
              th Fecha
              th Médico
              th Diagnóstico
              th Observaciones
              th Acciones
          tbody#tablaEvaluaciones

      // 2. Prescripción de Medicamentos
      .seccion.seccion-2#prescripciones
        h3.titulo-seccion Prescripción de Medicamentos
        .row.mb-2
          .col-md-3
            input.form-control(type="date", id="fechaPrescripcion")
          .col-md-3
            select.form-select#medicoPrescripcion
              option(value="") Seleccione médico
          .col-md-3
            select.form-select#medicamentoPrescripcion
              option(value="") Seleccione medicamento
          .col-md-1
            input.form-control(type="number", placeholder="Cantidad", id="cantidadPrescripcion")
          .col-md-2
            input.form-control(type="text", placeholder="Observaciones", id="observacionesPrescripcion")
        .text-end.mb-2
          button.btn.btn-success#btnRegistrarPrescripcion Registrar Prescripción
        table.table.table-bordered.table-sm.tabla
          thead
            tr
              th Fecha
              th Médico
              th Medicamento
              th Cantidad
              th Observaciones
              th Acciones
          tbody#tablaPrescripciones

      // 3. Estudios Solicitados
      .seccion.seccion-1#estudios
        h3.titulo-seccion Estudios Solicitados
        .row.mb-2
          .col-md-3
            input.form-control(type="date", id="fechaSolicitudEstudios")
          .col-md-3
            select.form-select#medicoEstudios
              option(value="") Seleccione médico
          .col-md-3
            select.form-select#tipoEstudio
              option(value="") Tipo de estudio
          .col-md-3
            input.form-control(type="text", placeholder="Observaciones", id="observacionesEstudios")
        .text-end.mb-2
          button.btn.btn-success#btnRegistrarEstudio Registrar Estudio
        table.table.table-bordered.table-sm.tabla
          thead
            tr
              th Fecha Solicitud
              th Médico
              th Tipo Estudio
              th Observaciones
              th Acciones
          tbody#tablaEstudios

      // 4. Cirugías
      .seccion.seccion-2#cirugias
        h3.titulo-seccion Cirugías
        .row.mb-2
          .col-md-3
            input.form-control(type="date", id="fechaSolicitudCirugia")
          .col-md-3
            select.form-select#medicoCirugia
              option(value="") Seleccione médico
          .col-md-3
            select.form-select#tipoCirugia
              option(value="") Tipo de cirugía
          .col-md-3
            input.form-control(type="text", placeholder="Observaciones", id="observacionesCirugia")
        .text-end.mb-2
          button.btn.btn-success#btnRegistrarCirugia Registrar Cirugía
        table.table.table-bordered.table-sm.tabla
          thead
            tr
              th Fecha Solicitud
              th Médico
              th Tipo de Cirugía
              th Observaciones
              th Acciones
          tbody#tablaCirugias

      // 5. Terapias
      .seccion.seccion-1#terapias
        h3.titulo-seccion Terapias
        .row.mb-2
          .col-md-3
            input.form-control(type="date", id="fechaSolicitudTerapia")
          .col-md-3
            select.form-select#medicoTerapia
              option(value="") Seleccione médico
          .col-md-3
            select.form-select#tipoTerapia
              option(value="") Tipo de terapia
          .col-md-3
            input.form-control(type="text", placeholder="Observaciones", id="observacionesTerapia")
        .text-end.mb-2
          button.btn.btn-success#btnRegistrarTerapia Registrar Terapia
        table.table.table-bordered.table-sm.tabla
          thead
            tr
              th Fecha Solicitud
              th Médico
              th Tipo de Terapia
              th Observaciones
              th Acciones
          tbody#tablaTerapias
